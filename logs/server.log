2017-01-03 20:30:24 [INFO ] [org.apache.curator.framework.imps.CuratorFrameworkImpl:234] - Starting
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:host.name=OEM-20161201YDY
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:java.version=1.8.0_91
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:java.vendor=Oracle Corporation
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:java.home=D:\Program Files\Java\jdk1.8.0_91\jre
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:java.class.path=D:\Program Files\Java\jdk1.8.0_91\jre\lib\charsets.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\deploy.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\access-bridge-64.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\cldrdata.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\dnsns.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\jaccess.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\jfxrt.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\localedata.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\nashorn.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\sunec.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\sunjce_provider.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\sunmscapi.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\sunpkcs11.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\ext\zipfs.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\javaws.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\jce.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\jfr.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\jfxswt.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\jsse.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\management-agent.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\plugin.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\resources.jar;D:\Program Files\Java\jdk1.8.0_91\jre\lib\rt.jar;D:\workspace\jinyinwu\upstream-agent\target\classes;C:\Users\wangkun23\.m2\repository\org\springframework\spring-context\4.0.2.RELEASE\spring-context-4.0.2.RELEASE.jar;C:\Users\wangkun23\.m2\repository\org\springframework\spring-aop\4.0.2.RELEASE\spring-aop-4.0.2.RELEASE.jar;C:\Users\wangkun23\.m2\repository\aopalliance\aopalliance\1.0\aopalliance-1.0.jar;C:\Users\wangkun23\.m2\repository\org\springframework\spring-beans\4.0.2.RELEASE\spring-beans-4.0.2.RELEASE.jar;C:\Users\wangkun23\.m2\repository\org\springframework\spring-core\4.0.2.RELEASE\spring-core-4.0.2.RELEASE.jar;C:\Users\wangkun23\.m2\repository\commons-logging\commons-logging\1.1.3\commons-logging-1.1.3.jar;C:\Users\wangkun23\.m2\repository\org\springframework\spring-expression\4.0.2.RELEASE\spring-expression-4.0.2.RELEASE.jar;C:\Users\wangkun23\.m2\repository\ch\qos\logback\logback-classic\1.1.2\logback-classic-1.1.2.jar;C:\Users\wangkun23\.m2\repository\ch\qos\logback\logback-core\1.1.2\logback-core-1.1.2.jar;C:\Users\wangkun23\.m2\repository\org\slf4j\slf4j-api\1.7.6\slf4j-api-1.7.6.jar;C:\Users\wangkun23\.m2\repository\org\apache\commons\commons-lang3\3.3.2\commons-lang3-3.3.2.jar;C:\Users\wangkun23\.m2\repository\com\google\guava\guava\18.0\guava-18.0.jar;C:\Users\wangkun23\.m2\repository\com\github\spullara\mustache\java\compiler\0.9.2\compiler-0.9.2.jar;C:\Users\wangkun23\.m2\repository\com\netflix\archaius\archaius-core\0.5.11\archaius-core-0.5.11.jar;C:\Users\wangkun23\.m2\repository\org\codehaus\jackson\jackson-mapper-asl\1.9.11\jackson-mapper-asl-1.9.11.jar;C:\Users\wangkun23\.m2\repository\commons-configuration\commons-configuration\1.8\commons-configuration-1.8.jar;C:\Users\wangkun23\.m2\repository\commons-lang\commons-lang\2.6\commons-lang-2.6.jar;C:\Users\wangkun23\.m2\repository\org\codehaus\jackson\jackson-core-asl\1.9.11\jackson-core-asl-1.9.11.jar;C:\Users\wangkun23\.m2\repository\com\google\code\findbugs\annotations\2.0.0\annotations-2.0.0.jar;C:\Users\wangkun23\.m2\repository\org\apache\curator\curator-x-discovery\2.9.1\curator-x-discovery-2.9.1.jar;C:\Users\wangkun23\.m2\repository\org\apache\curator\curator-recipes\2.9.1\curator-recipes-2.9.1.jar;C:\Users\wangkun23\.m2\repository\org\apache\curator\curator-framework\2.9.1\curator-framework-2.9.1.jar;C:\Users\wangkun23\.m2\repository\org\apache\curator\curator-client\2.9.1\curator-client-2.9.1.jar;C:\Users\wangkun23\.m2\repository\org\apache\zookeeper\zookeeper\3.4.6\zookeeper-3.4.6.jar;C:\Users\wangkun23\.m2\repository\log4j\log4j\1.2.16\log4j-1.2.16.jar;C:\Users\wangkun23\.m2\repository\jline\jline\0.9.94\jline-0.9.94.jar;C:\Users\wangkun23\.m2\repository\io\netty\netty\3.7.0.Final\netty-3.7.0.Final.jar;D:\Program Files (x86)\JetBrains\IntelliJ IDEA 15.0.2\lib\idea_rt.jar
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:java.library.path=D:\Program Files\Java\jdk1.8.0_91\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Intel\OpenCL SDK\2.0\bin\x86;C:\Program Files (x86)\Intel\OpenCL SDK\2.0\bin\x64;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\Git\cmd;D:\Program Files\nodejs\;D:\Tools\gradle-2.3\bin;D:\Program Files\Java\jdk1.8.0_91\bin;D:\Tools\apache-maven-3.0.5\bin;C:\Users\wangkun23\AppData\Roaming\npm;.
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:java.io.tmpdir=C:\Users\WANGKU~1\AppData\Local\Temp\
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:java.compiler=<NA>
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:os.name=Windows 7
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:os.arch=amd64
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:os.version=6.1
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:user.name=wangkun23
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:user.home=C:\Users\wangkun23
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.Environment:100] - Client environment:user.dir=D:\workspace\jinyinwu\upstream-agent
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.ZooKeeper:438] - Initiating client connection, connectString=127.0.0.1:2181 sessionTimeout=60000 watcher=org.apache.curator.ConnectionState@1ed4ae0f
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.ClientCnxn$SendThread:975] - Opening socket connection to server 127.0.0.1/127.0.0.1:2181. Will not attempt to authenticate using SASL (unknown error)
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.ClientCnxn$SendThread:852] - Socket connection established to 127.0.0.1/127.0.0.1:2181, initiating session
2017-01-03 20:30:24 [INFO ] [org.apache.zookeeper.ClientCnxn$SendThread:1235] - Session establishment complete on server 127.0.0.1/127.0.0.1:2181, sessionid = 0x1596325e6a60040, negotiated timeout = 40000
2017-01-03 20:30:24 [INFO ] [org.apache.curator.framework.state.ConnectionStateManager:228] - State change: CONNECTED
2017-01-03 20:30:24 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery:69] - serviceName service002
2017-01-03 20:30:24 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery:69] - serviceName service001
2017-01-03 20:30:24 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery:113] - ### instance 192.168.1.12
2017-01-03 20:30:24 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery:96] - ###$$$%% cache instance 192.168.1.12
2017-01-03 20:30:24 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery:100] - Discovery: cluster=[service001] has 2 instances, [com.jinyinwu.upstream.agent.data.Server@2fba3fc4, com.jinyinwu.upstream.agent.data.Server@4bf48f6]...
2017-01-03 20:30:24 [INFO ] [com.jinyinwu.upstream.agent.nginx.NginxConfigWriterImpl:67] - (service001) Locating contexts for http://service001:8080, 2 servers in group
2017-01-03 20:30:25 [INFO ] [com.jinyinwu.upstream.agent.nginx.NginxConfigWriterImpl:53] - Flushing NGINX config to /var/run/nginx.pid
2017-01-03 20:30:25 [INFO ] [com.jinyinwu.upstream.agent.StopMonitor:33] - stop monitor thread listening on: ServerSocket[addr=/127.0.0.1,localport=9527]
2017-01-03 20:30:59 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery$1:75] - Service service001 modified, rewriting config
2017-01-03 20:30:59 [INFO ] [com.jinyinwu.upstream.agent.nginx.NginxConfigWriterImpl:53] - Flushing NGINX config to /var/run/nginx.pid
2017-01-03 20:30:59 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery$1:75] - Service service001 modified, rewriting config
2017-01-03 20:30:59 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery:113] - ### instance 192.168.1.12
2017-01-03 20:30:59 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery:96] - ###$$$%% cache instance 192.168.1.12
2017-01-03 20:30:59 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery:100] - Discovery: cluster=[service001] has 2 instances, [com.jinyinwu.upstream.agent.data.Server@34e4342b, com.jinyinwu.upstream.agent.data.Server@71e6bcd3]...
2017-01-03 20:30:59 [INFO ] [com.jinyinwu.upstream.agent.nginx.NginxConfigWriterImpl:67] - (service001) Locating contexts for http://service001:8080, 2 servers in group
2017-01-03 20:30:59 [INFO ] [com.jinyinwu.upstream.agent.nginx.NginxConfigWriterImpl:53] - Flushing NGINX config to /var/run/nginx.pid
2017-01-03 20:32:30 [INFO ] [com.jinyinwu.upstream.agent.discovery.ZookeeperClusterDiscovery$1:75] - Service service001 modified, rewriting config
2017-01-03 20:32:30 [INFO ] [com.jinyinwu.upstream.agent.nginx.NginxConfigWriterImpl:53] - Flushing NGINX config to /var/run/nginx.pid
